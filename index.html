<!DOCTYPE html>
<html>
<head>
  <title>CS 498 Final Project</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega/3.0.0-rc2/vega.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-lite/2.0.0-beta.10/vega-lite.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/vega-embed/3.0.0-beta.19/vega-embed.js"></script>
</head>
<body>

<div id="option">
    <input name="StartButton" 
           type="button" 
           value="Start" 
           onclick="start()" />
    <input name="Slide1Button" 
           type="button" 
           value="Slide 1" 
           onclick="slide1()" />	
    <input name="Slide2Button" 
           type="button" 
           value="Slide 2" 
           onclick="slide2()" />	
    <input name="Slide3Button" 
           type="button" 
           value="Slide 3" 
           onclick="slide3()" />		   
    <input name="EndButton" 
           type="button" 
           value="End" 
           onclick="Eud()" />		   
</div>

<p>Please click the bottons above to navigate through this narrative visualization.</p>

<div id="vis"></div>
 
<script type="text/javascript">

//  "data": { "url": "https://raw.githubusercontent.com/panwong126/panwong126.github.io/master/data.json"},

var slide_0 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
  "data": { "url": "https://raw.githubusercontent.com/panwong126/panwong126.github.io/master/data.json"},
  "width":500,
  "height":500,
  "mark": "bar",
  "encoding": {
    "x": {
      "field": "shopping_pt",
      "type": "nominal",
	  "axis": {"title": "# of Quotes Before Buying Insurance"}	  
    },
    "y": {
      "aggregate": "count",
      "type": "quantitative",
      "axis": {"title": "# of Customers"}
    }
  }
}
vega.embed("#vis", slide_0)

var slide_1 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
  "data": { "url": "https://raw.githubusercontent.com/panwong126/panwong126.github.io/master/data.json"},
  "width":500,
  "height":500,
  "layer":[{
	"selection": {
		"org": {
		"type": "single",
		"fields": ["car_value"],
		"bind": {"input": "select", "options":["a","b","c","d","e","f","g","h","i"]}
		}
	},
	"mark": "bar",
	"encoding": {
    "y": {"aggregate": "count", "type": "quantitative","axis": {"title": "# of Customers"}},
    "x": {"field": "shopping_pt", "type": "nominal","axis": {"title": "# of Quotes Before Buying Insurance"}	  },
    "color": {
	  "value": "grey"
	}
  }
},{
    "transform": [{"filter": {"selection": "org"}}],
    "mark": "bar",
    "encoding": {
      "x": {"field": "shopping_pt", "type": "nominal"},
      "y": {"aggregate": "count", "type": "quantitative"},
      "color": {"field": "car_value", "type": "nominal"},
    }
  }]}

var slide_2 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
  "data": { "url": "https://raw.githubusercontent.com/panwong126/panwong126.github.io/master/data.json"},
  "width":500,
  "height":500,
  "layer":[{
	"selection": {
		"org": {
		"type": "single",
		"fields": ["homeowner"],
		"bind": {"input": "select", "options":[0,1]}
		}
	},
	"mark": "bar",
	"encoding": {
    "y": {"aggregate": "count", "type": "quantitative","axis": {"title": "# of Customers"}},
    "x": {"field": "shopping_pt", "type": "nominal","axis": {"title": "# of Quotes Before Buying Insurance"}	  },
    "color": {
	  "value": "grey"
	}
  }
},{
    "transform": [{"filter": {"selection": "org"}}],
    "mark": "bar",
    "encoding": {
      "x": {"field": "shopping_pt", "type": "nominal"},
      "y": {"aggregate": "count", "type": "quantitative"},
      "color": {"field": "homeowner", "type": "nominal","value": "steelblue"},
    }
  }]}

var slide_3 = {
  "$schema": "https://vega.github.io/schema/vega-lite/v2.json",
  "data": { "url": "https://raw.githubusercontent.com/panwong126/panwong126.github.io/master/data.json"},
  "width":500,
  "height":500,
  "layer":[{
	"selection": {
		"org": {
		"type": "single",
		"fields": ["married_couple"],
		"bind": {"input": "select", "options":[0,1]}
		}
	},
	"mark": "bar",
	"encoding": {
    "y": {"aggregate": "count", "type": "quantitative","axis": {"title": "# of Customers"}},
    "x": {"field": "shopping_pt", "type": "nominal","axis": {"title": "# of Quotes Before Buying Insurance"}	  },
    "color": {
	  "value": "grey"
	}
  }
},{
    "transform": [{"filter": {"selection": "org"}}],
    "mark": "bar",
    "encoding": {
      "x": {"field": "shopping_pt", "type": "nominal"},
      "y": {"aggregate": "count", "type": "quantitative"},
      "color": {"field": "married_couple", "type": "nominal","value": "steelblue"},
    }
  }]}
  
function start(){
	vega.embed("#vis", slide_0)
}
  
function slide1(){
	vega.embed("#vis", slide_1)
}

function slide2(){
	vega.embed("#vis", slide_2)
}

function slide3(){

	vega.embed("#vis", slide_3)
}


	
  </script>
</body>
</html>